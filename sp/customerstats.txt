SET @cur =(MONTH(DATE_ADD(CURDATE(),INTERVAL -6 MONTH)) - 1); SET @curYear =(YEAR(DATE_ADD(CURDATE(),INTERVAL -6 MONTH))); SELECT @cur := ( CASE WHEN @cur = 12 THEN 1 ELSE @cur + 1 END) MONTH, DATE_FORMAT(STR_TO_DATE(@cur, '%m'), '%b') DESCRIPTION, @curYear := ( CASE WHEN @cur = 1 THEN @curYear + 1 ELSE @curYear END ) YEAR, (SELECT COUNT(*) FROM customer WHERE MONTH(CREATEDDATE) = @cur AND YEAR(CREATEDDATE) = @curYear) TOTAL FROM tbl_month LIMIT 7; 